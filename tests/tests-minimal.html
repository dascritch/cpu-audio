<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>cpu-audio tests</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="../node_modules/qunit/qunit/qunit.css">
	<style>
		#qunit {position : relative !important ;}
	</style>
	<script>
		// needed to avoid a unwanted hot start
		window.localStorage.clear();
	</script>
	<script src="../build/cpu-audio.js"></script>
</head>
<body>

	<p><a href=".">CPU-Audio Webcomponent</a></p>

	<p>
		This is the minimal service tests. Your browser should be able to use the hash links, even if the graphical interface don't show up, and the audio player still show the native controls.<br />
		Manual test : <a href="#track&t=1m">named jump at 1mn</a>, <a href="#&t=30s">unnamed jump at 30</a>, <a href="#&t=1m30s,1m40s">unnamed jump at 1mn30 and stops at 1mn40</a>
	</p>

	<p>
		See also :
	</p>
	<ul>
		<li>Minimum services, as hash links</li>
		<li><a href="./tests-interface.html">Graphic interface, if WebComponent fully supported</a></li>
		<li><a href="./tests-controller.html">Controller interface</a></li>
		<li><a href="./tests-api.html">API</a></li>
		<li><a href="./tests-browser.html">Browser compliance and implementation tests</a></li>
	</ul>

	<cpu-audio>
		<audio id="track" controls="controls" preload="auto" muted="muted">
			<source src="../tests-assets/blank.mp3" type="audio/mpeg" />
		</audio>
	</cpu-audio>

	<p>
		<button type="button" id="get_focus">
			To launch the tests, <strong>please click on this button</strong>, giving focus, to autorize auto-play and click events.
		</button>
		Elsewhere, numerous tests will fail. See <a href="https://github.com/dascritch/cpu-audio/issues/17">issue #17 on our github for details</a>.
	</p>
	<p>
		We also have a <a href="https://stackoverflow.com/questions/52620284/make-html5-video-start-at-specified-currenttime-in-chrome">surprising bug in Chrome that avoid to use <code>audiotag.currentTime={number}</code> ONLY if the source is hosted on localhost</a> if your local server doesn't support HTTP response 206 (partial content). If you need to local test on Chrome, please use file:/// protocol or a complete web server.
	</p>


	<div id="playground"></div>	

	<div id="qunit"></div>
	<div id="qunit-fixture"></div>
	<script src="../node_modules/qunit/qunit/qunit.js"></script>
	<script src="./tests-minimal.js"></script>
</body>
</html>